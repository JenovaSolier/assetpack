"use strict";(self.webpackChunk_assetpack_docs=self.webpackChunk_assetpack_docs||[]).push([[680],{94:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>c});var t=s(1085),n=s(1184),o=s(4944);const r={sidebar_position:2},a="Audio & FFmpeg",d={id:"guide/pipes/ffmpeg",title:"Audio & FFmpeg",description:"The AssetPack library includes powerful plugins for audio conversion and file format manipulation using FFmpeg. These plugins, audio and ffmpeg, provide robust solutions for handling a variety of media file formats.",source:"@site/docs/guide/pipes/ffmpeg.mdx",sourceDirName:"guide/pipes",slug:"/guide/pipes/ffmpeg",permalink:"/assetpack/docs/guide/pipes/ffmpeg",draft:!1,unlisted:!1,editUrl:"https://github.com/pixijs/assetpack/tree/main/packages/docs/docs/guide/pipes/ffmpeg.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"guide",previous:{title:"Cache Buster",permalink:"/assetpack/docs/guide/pipes/cache-buster"},next:{title:"JSON",permalink:"/assetpack/docs/guide/pipes/json"}},l={},c=[{value:"Audio",id:"audio",level:2},{value:"Example",id:"example",level:3},{value:"FFmpeg",id:"ffmpeg",level:2},{value:"API",id:"api",level:2},{value:"Example",id:"example-1",level:3}];function p(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h1,{id:"audio--ffmpeg",children:"Audio & FFmpeg"}),"\n",(0,t.jsx)(i.p,{children:"The AssetPack library includes powerful plugins for audio conversion and file format manipulation using FFmpeg. These plugins, audio and ffmpeg, provide robust solutions for handling a variety of media file formats."}),"\n",(0,t.jsx)(i.h2,{id:"audio",children:"Audio"}),"\n",(0,t.jsxs)(i.p,{children:["The audio plugin converts and compresses audio files (",(0,t.jsx)(i.code,{children:"mp3"}),", ",(0,t.jsx)(i.code,{children:"wav"}),", and ",(0,t.jsx)(i.code,{children:"ogg"}),") to ",(0,t.jsx)(i.code,{children:"mp3"})," and ",(0,t.jsx)(i.code,{children:"ogg"})," formats. This is particularly useful for ensuring compatibility and optimizing file sizes for web delivery."]}),"\n",(0,t.jsx)(i.h3,{id:"example",children:"Example"}),"\n",(0,t.jsx)(o.qH,{image:"audio/audio",height:350}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-ts",children:'// assetpack.config.ts\nimport { audio } from "@assetpack/core";\n\nexport default {\n  ...\n  pipes: [\n    audio: audio(),\n  ],\n};\n'})}),"\n",(0,t.jsx)(i.h2,{id:"ffmpeg",children:"FFmpeg"}),"\n",(0,t.jsxs)(i.p,{children:["The ",(0,t.jsx)(i.code,{children:"ffmpeg"})," plugin exposes the full FFmpeg API, allowing for the conversion of any file type to any other file type. This provides a high level of customization and control over the conversion process, enabling a wide range of media processing tasks."]}),"\n",(0,t.jsx)(i.h2,{id:"api",children:"API"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Option"}),(0,t.jsx)(i.th,{children:"Type"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"inputs"}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"string[]"})}),(0,t.jsx)(i.td,{children:"An array of file extensions to be processed."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"outputs"}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"object[]"})}),(0,t.jsx)(i.td,{children:"An array of objects containing the output formats and options for each format."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"outputs.formats"}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"string[]"})}),(0,t.jsx)(i.td,{children:"An array of file extensions to be output."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"outputs.recompress"}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"boolean"})}),(0,t.jsx)(i.td,{children:"A boolean value indicating whether the input file should be compressed if the output format is the same as the input format."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"outputs.options"}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"object"})}),(0,t.jsx)(i.td,{children:"An object containing the FFmpeg options for the output file."})]})]})]}),"\n",(0,t.jsx)(i.h3,{id:"example-1",children:"Example"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-ts",children:"// assetpack.config.ts\nimport { ffmpeg } from \"@assetpack/core\";\n\nexport default {\n  ...\n  pipes: [\n    ffmpeg({\n      inputs: ['.mp3', '.ogg', '.wav'],\n      outputs: [\n        {\n          formats: ['.mp3'],\n          recompress: false,\n          options: {\n            audioBitrate: 96,\n            audioChannels: 1,\n            audioFrequency: 48000,\n          },\n        },\n        {\n          formats: ['.ogg'],\n          recompress: false,\n          options: {\n            audioBitrate: 32,\n            audioChannels: 1,\n            audioFrequency: 22050,\n          },\n        },\n      ],\n    }),\n  ],\n};\n"})})]})}function h(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},4944:(e,i,s)=>{s.d(i,{qH:()=>a});var t=s(4041),n=s(1085);const o=e=>{let{toggleImage:i,showImage1:s}=e;return(0,n.jsx)("div",{style:{width:"100%"},children:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",padding:"10px"},children:[(0,n.jsx)("p",{style:{margin:"0 10px"},children:s?"Original":"Processed"}),(0,n.jsx)("div",{onClick:i,style:{position:"relative",width:"60px",height:"30px",backgroundColor:"hsl(225 6% 13%)",borderRadius:"15px",cursor:"pointer",transition:"background-color 0.3s",border:"2px solid #696969"},children:(0,n.jsx)("div",{style:{position:"absolute",top:"3px",left:s?"5px":"32px",width:"20px",height:"20px",backgroundColor:s?"var(--ifm-color-secondary)":"var(--ifm-color-primary)",borderRadius:"50%",transition:"left 0.3s"}})})]})})},r=e=>{let{image:i,primaryBoxShadow:s}=e;return(0,n.jsx)("div",{style:{width:"100%",height:"100%",margin:"0 auto",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},children:(0,n.jsx)("img",{src:i,alt:"Input Image",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",borderRadius:"12px",boxShadow:s?"0 0 20px hsla(340, 70%, 44%, 0.5)":"0 0 20px hsla(192, 84%, 40%, 0.5)"}})})},a=e=>{let{image:i,height:s}=e;const[a,d]=(0,t.useState)(!0);s??=350;const l=`/assetpack/screenshots/${i}.png`,c=`/assetpack/screenshots/${i}-pro.png`;return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",paddingBottom:"24px"},children:[(0,n.jsx)(o,{toggleImage:()=>{d(!a)},showImage1:a}),(0,n.jsxs)("div",{style:{position:"relative",pointerEvents:"none",width:"100%",height:s},children:[(0,n.jsx)("div",{style:{transition:"opacity 0.5s ease-in-out",opacity:a?1:0,position:"absolute",width:"100%",height:"100%"},children:(0,n.jsx)(r,{image:l,primaryBoxShadow:!1})}),(0,n.jsx)("div",{style:{transition:"opacity 0.5s ease-in-out",opacity:a?0:1,position:"absolute",width:"100%",height:"100%"},children:(0,n.jsx)(r,{image:c,primaryBoxShadow:!0})})]})]})}},1184:(e,i,s)=>{s.d(i,{R:()=>r,x:()=>a});var t=s(4041);const n={},o=t.createContext(n);function r(e){const i=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),t.createElement(o.Provider,{value:i},e.children)}}}]);